{
  "id": "eslint-prettier",
  "category": "nodejs",
  "title": "ESLint & Prettier",
  "description": "コード品質を向上させるリンター（ESLint）とフォーマッター（Prettier）の基本概念、インストール方法、設定方法を学びましょう",
  "content": "<div class=\"content-section\"><h2 class=\"section-title\">リンターとフォーマッターとは</h2><p class=\"content-text\">コードの品質を保つために、<strong>リンター</strong>と<strong>フォーマッター</strong>という2種類のツールがよく使われます。どちらもコードを改善するツールですが、役割が異なります。</p><h3>リンター（Linter）とは</h3><p class=\"content-text\"><strong>リンター</strong>は、コードの<strong>潜在的な問題やバグ</strong>を検出するツールです。構文エラー、未使用の変数、危険なコードパターンなどを見つけて警告してくれます。</p><h3>フォーマッター（Formatter）とは</h3><p class=\"content-text\"><strong>フォーマッター</strong>は、コードの<strong>見た目（スタイル）</strong>を統一するツールです。インデント、スペース、改行などを自動的に整形し、一貫したコードスタイルを維持します。</p><div class=\"table-wrapper\"><table><thead><tr><th>項目</th><th>リンター（ESLint）</th><th>フォーマッター（Prettier）</th></tr></thead><tbody><tr><td>主な目的</td><td>コードの問題を検出</td><td>コードの見た目を統一</td></tr><tr><td>検出対象</td><td>バグ、未使用変数、危険なパターン</td><td>インデント、スペース、改行</td></tr><tr><td>自動修正</td><td>一部可能</td><td>完全自動</td></tr><tr><td>設定の柔軟性</td><td>高い（ルールごとに設定可能）</td><td>低い（意図的にシンプル）</td></tr></tbody></table></div><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">ポイント</div><div class=\"info-box-text\">リンターは「コードが正しく動くか」をチェックし、フォーマッターは「コードが読みやすいか」を整えます。両方を使うことで、品質と可読性の両方を向上できます。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">ESLintの基本</h2><p class=\"content-text\"><strong>ESLint</strong>は、JavaScriptとTypeScriptで最も広く使われているリンターです。コードの問題を検出し、多くの場合は自動修正もできます。</p><h3>ESLintのインストール</h3><p class=\"content-text\">プロジェクトにESLintをインストールするには、以下のコマンドを実行します：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">Terminal</span></div><div class=\"code-content\"><pre><code>npm install eslint --save-dev</code></pre></div></div><h3>ESLintの設定ファイル</h3><p class=\"content-text\">ESLint v9以降では、<code>eslint.config.js</code>（Flat Config）を使用します：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// eslint.config.js\nimport js from '@eslint/js';\n\nexport default [\n  js.configs.recommended,\n  {\n    rules: {\n      'no-unused-vars': 'warn',\n      'no-console': 'off',\n      'eqeqeq': 'error'\n    }\n  }\n];</code></pre></div></div><h3>ESLintが検出できるエラーの例</h3><p class=\"content-text\">ESLintは様々な問題を検出できます：</p><h4>1. 未使用の変数</h4><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// ❌ ESLintが警告: 'unusedVar' is defined but never used\nconst unusedVar = 'hello';\nconst usedVar = 'world';\nconsole.log(usedVar);</code></pre></div></div><h4>2. 厳密等価演算子の使用</h4><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// ❌ ESLintが警告: Expected '===' and instead saw '=='\nif (value == null) { }\n\n// ✅ 正しい書き方\nif (value === null) { }</code></pre></div></div><h4>3. 到達不能コード</h4><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>function example() {\n  return true;\n  // ❌ ESLintが警告: Unreachable code\n  console.log('この行は実行されない');\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">⚠️</span><div class=\"info-box-content\"><div class=\"info-box-title\">注意</div><div class=\"info-box-text\">ESLintはコードの「正しさ」をチェックしますが、コードの「見た目」の統一はPrettierに任せるのがベストプラクティスです。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">Prettierの基本</h2><p class=\"content-text\"><strong>Prettier</strong>は、コードを自動的に整形するフォーマッターです。設定項目が少なく、チーム全体で一貫したコードスタイルを簡単に維持できます。</p><h3>Prettierのインストール</h3><p class=\"content-text\">プロジェクトにPrettierをインストールするには、以下のコマンドを実行します：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">Terminal</span></div><div class=\"code-content\"><pre><code>npm install prettier --save-dev</code></pre></div></div><h3>Prettierの設定ファイル</h3><p class=\"content-text\">プロジェクトルートに<code>.prettierrc</code>ファイルを作成します：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSON</span></div><div class=\"code-content\"><pre><code>{\n  \"semi\": true,\n  \"singleQuote\": true,\n  \"tabWidth\": 2,\n  \"trailingComma\": \"es5\",\n  \"printWidth\": 80\n}</code></pre></div></div><div class=\"table-wrapper\"><table><thead><tr><th>オプション</th><th>説明</th><th>デフォルト値</th></tr></thead><tbody><tr><td>semi</td><td>文末にセミコロンを付けるか</td><td>true</td></tr><tr><td>singleQuote</td><td>シングルクォートを使用するか</td><td>false</td></tr><tr><td>tabWidth</td><td>インデントのスペース数</td><td>2</td></tr><tr><td>trailingComma</td><td>末尾カンマを付けるか</td><td>\"all\"</td></tr><tr><td>printWidth</td><td>1行の最大文字数</td><td>80</td></tr></tbody></table></div><h3>フォーマット前後の比較</h3><p class=\"content-text\">Prettierがどのようにコードを整形するか見てみましょう：</p><h4>フォーマット前</h4><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// 整形前：インデントや空白がバラバラ\nconst user={name:\"田中\",age:25,email:\"tanaka@example.com\"};\nfunction greet(name){console.log(\"Hello, \"+name+\"!\");}\nif(user.age>=18){greet(user.name)}</code></pre></div></div><h4>フォーマット後</h4><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// 整形後：一貫したスタイルに自動整形\nconst user = {\n  name: '田中',\n  age: 25,\n  email: 'tanaka@example.com',\n};\n\nfunction greet(name) {\n  console.log('Hello, ' + name + '!');\n}\n\nif (user.age >= 18) {\n  greet(user.name);\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">ポイント</div><div class=\"info-box-text\">Prettierは「どう整形するか」の議論を終わらせるために設計されています。設定項目が少ないのは意図的で、チームでの議論を減らすためです。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">ESLintとPrettierの併用</h2><p class=\"content-text\">ESLintとPrettierを一緒に使うと、コードの品質とスタイルの両方を管理できます。ただし、両者のルールが競合することがあるため、適切な設定が必要です。</p><h3>eslint-config-prettierのインストール</h3><p class=\"content-text\"><code>eslint-config-prettier</code>は、ESLintのスタイル関連ルールを無効化し、Prettierとの競合を防ぎます：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">Terminal</span></div><div class=\"code-content\"><pre><code>npm install eslint-config-prettier --save-dev</code></pre></div></div><h3>設定ファイルの更新</h3><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JavaScript</span></div><div class=\"code-content\"><pre><code>// eslint.config.js\nimport js from '@eslint/js';\nimport prettier from 'eslint-config-prettier';\n\nexport default [\n  js.configs.recommended,\n  prettier,  // Prettierと競合するルールを無効化\n  {\n    rules: {\n      'no-unused-vars': 'warn'\n    }\n  }\n];</code></pre></div></div><h3>推奨ワークフロー</h3><p class=\"content-text\">ESLintとPrettierを効果的に使うための推奨ワークフロー：</p><ol><li><strong>コード作成時</strong>：エディタの保存時にPrettierで自動整形</li><li><strong>コミット前</strong>：ESLintでコードの問題をチェック</li><li><strong>CI/CD</strong>：両方のチェックを自動実行</li></ol><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSON</span></div><div class=\"code-content\"><pre><code>// package.json のscripts例\n{\n  \"scripts\": {\n    \"lint\": \"eslint .\",\n    \"lint:fix\": \"eslint . --fix\",\n    \"format\": \"prettier --write .\",\n    \"check\": \"prettier --check . && eslint .\"\n  }\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">📦</span><div class=\"info-box-content\"><div class=\"info-box-title\">次のステップ</div><div class=\"info-box-text\">ESLintとPrettierの基本を理解したら、実際のプロジェクトで設定してみましょう。VS Codeなどのエディタ拡張機能と組み合わせると、さらに便利に使えます。</div></div></div></div>",
  "exercises": [
    {
      "question": "ESLintの主な役割は何ですか？",
      "options": [
        "コードの見た目を統一する",
        "コードの潜在的な問題やバグを検出する",
        "コードを圧縮してファイルサイズを小さくする",
        "コードをJavaScriptからTypeScriptに変換する"
      ],
      "answer": 1,
      "explanation": "ESLintはリンターであり、コードの潜在的な問題やバグ（未使用変数、構文エラー、危険なパターンなど）を検出するのが主な役割です。"
    },
    {
      "question": "Prettierの主な役割は何ですか？",
      "options": [
        "コードのバグを検出する",
        "コードのパフォーマンスを最適化する",
        "コードの見た目（スタイル）を統一する",
        "コードのセキュリティ脆弱性を検出する"
      ],
      "answer": 2,
      "explanation": "Prettierはフォーマッターであり、インデント、スペース、改行などを自動的に整形し、コードの見た目（スタイル）を統一するのが主な役割です。"
    },
    {
      "question": "ESLintとPrettierを併用する際に、eslint-config-prettierを使う理由は何ですか？",
      "options": [
        "ESLintの実行速度を向上させるため",
        "Prettierの設定をESLintに統合するため",
        "ESLintとPrettierのルールの競合を防ぐため",
        "TypeScriptのサポートを追加するため"
      ],
      "answer": 2,
      "explanation": "eslint-config-prettierは、ESLintのスタイル関連ルールを無効化し、Prettierとの競合を防ぎます。これにより、両方のツールを問題なく併用できます。"
    }
  ]
}