{
  "id": "react-components",
  "category": "react",
  "title": "コンポーネントとProps",
  "description": "関数コンポーネントの作成方法、Propsの受け渡し、childrenプロパティ、コンポーネント合成パターンを学びましょう",
  "content": "<div class=\"content-section\"><h2 class=\"section-title\">コンポーネントとは？</h2><p class=\"content-text\">Reactの<strong>コンポーネント</strong>は、UIを構成する独立した再利用可能な部品です。ボタン、カード、ナビゲーションバーなど、あらゆるUI要素をコンポーネントとして定義できます。</p><p class=\"content-text\">コンポーネントには2種類ありますが、現在のReactでは<strong>関数コンポーネント</strong>が主流です：</p><ul><li><strong>関数コンポーネント</strong> - JavaScriptの関数として定義（推奨）</li><li><strong>クラスコンポーネント</strong> - ES6クラスとして定義（レガシー）</li></ul><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">ポイント</div><div class=\"info-box-text\">React 16.8以降、Hooksの導入により関数コンポーネントでも状態管理ができるようになり、クラスコンポーネントを使う必要がほぼなくなりました。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">関数コンポーネントの定義</h2><p class=\"content-text\">関数コンポーネントは、JSXを返すJavaScript関数です。コンポーネント名は<strong>大文字で始める</strong>必要があります。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// 基本的な関数コンポーネント\nfunction Greeting() {\n  return &lt;h1&gt;こんにちは！&lt;/h1&gt;;\n}\n\n// アロー関数でも書ける\nconst Greeting = () =&gt; {\n  return &lt;h1&gt;こんにちは！&lt;/h1&gt;;\n};\n\n// 1行で返せる場合は省略形も可能\nconst Greeting = () =&gt; &lt;h1&gt;こんにちは！&lt;/h1&gt;;</code></pre></div></div><p class=\"content-text\">コンポーネントを使用するには、HTMLタグのように記述します：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>function App() {\n  return (\n    &lt;div&gt;\n      &lt;Greeting /&gt;\n      &lt;Greeting /&gt;\n      &lt;Greeting /&gt;\n    &lt;/div&gt;\n  );\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">⚠️</span><div class=\"info-box-content\"><div class=\"info-box-title\">命名規則</div><div class=\"info-box-text\">コンポーネント名は必ず大文字で始めます。小文字で始まる名前はHTMLタグとして解釈されます。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">Propsとは？</h2><p class=\"content-text\"><strong>Props（プロパティ）</strong>は、親コンポーネントから子コンポーネントにデータを渡すための仕組みです。関数の引数のように、コンポーネントに値を渡せます。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// Propsを受け取るコンポーネント\nfunction Greeting(props) {\n  return &lt;h1&gt;こんにちは、{props.name}さん！&lt;/h1&gt;;\n}\n\n// 使用例\nfunction App() {\n  return (\n    &lt;div&gt;\n      &lt;Greeting name=\"田中\" /&gt;\n      &lt;Greeting name=\"佐藤\" /&gt;\n      &lt;Greeting name=\"鈴木\" /&gt;\n    &lt;/div&gt;\n  );\n}</code></pre></div></div><p class=\"content-text\">出力結果：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">HTML</span></div><div class=\"code-content\"><pre><code>&lt;div&gt;\n  &lt;h1&gt;こんにちは、田中さん！&lt;/h1&gt;\n  &lt;h1&gt;こんにちは、佐藤さん！&lt;/h1&gt;\n  &lt;h1&gt;こんにちは、鈴木さん！&lt;/h1&gt;\n&lt;/div&gt;</code></pre></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">Propsの分割代入</h2><p class=\"content-text\">Propsは<strong>分割代入</strong>を使うと、より簡潔に書けます。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// 分割代入を使わない場合\nfunction UserCard(props) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;h2&gt;{props.name}&lt;/h2&gt;\n      &lt;p&gt;{props.email}&lt;/p&gt;\n      &lt;p&gt;年齢: {props.age}歳&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n\n// 分割代入を使う場合（推奨）\nfunction UserCard({ name, email, age }) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;h2&gt;{name}&lt;/h2&gt;\n      &lt;p&gt;{email}&lt;/p&gt;\n      &lt;p&gt;年齢: {age}歳&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}</code></pre></div></div><p class=\"content-text\">様々な型のデータをPropsとして渡せます：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>&lt;UserCard\n  name=\"田中太郎\"           // 文字列\n  age={25}                  // 数値\n  isAdmin={true}            // 真偽値\n  hobbies={['読書', '映画']} // 配列\n  address={{ city: '東京' }} // オブジェクト\n  onClick={handleClick}      // 関数\n/&gt;</code></pre></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">デフォルトProps</h2><p class=\"content-text\">Propsが渡されなかった場合の<strong>デフォルト値</strong>を設定できます。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// 方法1: 分割代入でデフォルト値を設定（推奨）\nfunction Button({ text = 'クリック', color = 'blue', size = 'medium' }) {\n  return (\n    &lt;button className={`btn btn-${color} btn-${size}`}&gt;\n      {text}\n    &lt;/button&gt;\n  );\n}\n\n// 使用例\n&lt;Button /&gt;                          // デフォルト値が使われる\n&lt;Button text=\"送信\" /&gt;              // textだけ上書き\n&lt;Button text=\"削除\" color=\"red\" /&gt;  // textとcolorを上書き</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">ポイント</div><div class=\"info-box-text\">デフォルト値を設定することで、コンポーネントの使用時に必須でないPropsを省略できます。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">childrenプロパティ</h2><p class=\"content-text\"><strong>children</strong>は特別なPropsで、コンポーネントの開始タグと終了タグの間に書かれた内容を受け取ります。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// childrenを受け取るコンポーネント\nfunction Card({ children, title }) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;h2 className=\"card-title\"&gt;{title}&lt;/h2&gt;\n      &lt;div className=\"card-content\"&gt;\n        {children}\n      &lt;/div&gt;\n    &lt;/div&gt;\n  );\n}\n\n// 使用例\nfunction App() {\n  return (\n    &lt;Card title=\"お知らせ\"&gt;\n      &lt;p&gt;新機能がリリースされました！&lt;/p&gt;\n      &lt;button&gt;詳細を見る&lt;/button&gt;\n    &lt;/Card&gt;\n  );\n}</code></pre></div></div><p class=\"content-text\">childrenには、テキスト、要素、複数の要素、さらには他のコンポーネントも渡せます：</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// テキストだけ\n&lt;Button&gt;クリック&lt;/Button&gt;\n\n// 要素を含む\n&lt;Button&gt;&lt;span&gt;🚀&lt;/span&gt; 送信&lt;/Button&gt;\n\n// 複数の要素\n&lt;Card title=\"プロフィール\"&gt;\n  &lt;Avatar src=\"user.jpg\" /&gt;\n  &lt;UserInfo name=\"田中\" /&gt;\n  &lt;button&gt;編集&lt;/button&gt;\n&lt;/Card&gt;</code></pre></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">コンポーネントの合成</h2><p class=\"content-text\"><strong>コンポーネント合成</strong>は、小さなコンポーネントを組み合わせて大きなコンポーネントを作るパターンです。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// 小さなコンポーネント\nfunction Avatar({ src, alt }) {\n  return &lt;img className=\"avatar\" src={src} alt={alt} /&gt;;\n}\n\nfunction UserName({ name }) {\n  return &lt;span className=\"username\"&gt;{name}&lt;/span&gt;;\n}\n\nfunction UserBio({ bio }) {\n  return &lt;p className=\"bio\"&gt;{bio}&lt;/p&gt;;\n}\n\n// 合成したコンポーネント\nfunction UserProfile({ user }) {\n  return (\n    &lt;div className=\"profile\"&gt;\n      &lt;Avatar src={user.avatar} alt={user.name} /&gt;\n      &lt;UserName name={user.name} /&gt;\n      &lt;UserBio bio={user.bio} /&gt;\n    &lt;/div&gt;\n  );\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">合成の利点</div><div class=\"info-box-text\">小さなコンポーネントに分割することで、再利用性が高まり、テストも容易になります。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">レイアウトコンポーネント</h2><p class=\"content-text\">childrenを活用した<strong>レイアウトコンポーネント</strong>は、ページの共通構造を定義するのに便利です。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// レイアウトコンポーネント\nfunction PageLayout({ children }) {\n  return (\n    &lt;div className=\"page\"&gt;\n      &lt;Header /&gt;\n      &lt;main className=\"content\"&gt;\n        {children}\n      &lt;/main&gt;\n      &lt;Footer /&gt;\n    &lt;/div&gt;\n  );\n}\n\n// 使用例\nfunction HomePage() {\n  return (\n    &lt;PageLayout&gt;\n      &lt;h1&gt;ホームページ&lt;/h1&gt;\n      &lt;p&gt;ようこそ！&lt;/p&gt;\n    &lt;/PageLayout&gt;\n  );\n}\n\nfunction AboutPage() {\n  return (\n    &lt;PageLayout&gt;\n      &lt;h1&gt;会社概要&lt;/h1&gt;\n      &lt;p&gt;私たちについて...&lt;/p&gt;\n    &lt;/PageLayout&gt;\n  );\n}</code></pre></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">特殊化パターン</h2><p class=\"content-text\">汎用的なコンポーネントを<strong>特殊化</strong>して、特定の用途向けのコンポーネントを作れます。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// 汎用的なDialogコンポーネント\nfunction Dialog({ title, message, children }) {\n  return (\n    &lt;div className=\"dialog\"&gt;\n      &lt;h2&gt;{title}&lt;/h2&gt;\n      &lt;p&gt;{message}&lt;/p&gt;\n      {children}\n    &lt;/div&gt;\n  );\n}\n\n// 特殊化: 警告ダイアログ\nfunction WarningDialog({ message, onConfirm }) {\n  return (\n    &lt;Dialog title=\"⚠️ 警告\" message={message}&gt;\n      &lt;button onClick={onConfirm}&gt;確認&lt;/button&gt;\n    &lt;/Dialog&gt;\n  );\n}\n\n// 特殊化: 確認ダイアログ\nfunction ConfirmDialog({ message, onYes, onNo }) {\n  return (\n    &lt;Dialog title=\"確認\" message={message}&gt;\n      &lt;button onClick={onYes}&gt;はい&lt;/button&gt;\n      &lt;button onClick={onNo}&gt;いいえ&lt;/button&gt;\n    &lt;/Dialog&gt;\n  );\n}</code></pre></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">TypeScriptでの型定義</h2><p class=\"content-text\">TypeScriptを使うと、Propsに<strong>型</strong>を定義でき、開発時のエラー検出が容易になります。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">TypeScript</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// Propsの型を定義\ntype UserCardProps = {\n  name: string;\n  email: string;\n  age: number;\n  isAdmin?: boolean;  // ?は省略可能を意味\n};\n\n// 型を適用\nfunction UserCard({ name, email, age, isAdmin = false }: UserCardProps) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;h2&gt;{name} {isAdmin && '👑'}&lt;/h2&gt;\n      &lt;p&gt;{email}&lt;/p&gt;\n      &lt;p&gt;年齢: {age}歳&lt;/p&gt;\n    &lt;/div&gt;\n  );\n}\n\n// childrenを含む型\ntype CardProps = {\n  title: string;\n  children: React.ReactNode;  // childrenの型\n};\n\nfunction Card({ title, children }: CardProps) {\n  return (\n    &lt;div className=\"card\"&gt;\n      &lt;h2&gt;{title}&lt;/h2&gt;\n      {children}\n    &lt;/div&gt;\n  );\n}</code></pre></div></div><div class=\"info-box\"><span class=\"info-box-icon\">💡</span><div class=\"info-box-content\"><div class=\"info-box-title\">TypeScriptの利点</div><div class=\"info-box-text\">型定義により、間違ったPropsを渡した場合にコンパイル時にエラーが検出され、バグを未然に防げます。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">Propsは読み取り専用</h2><p class=\"content-text\">重要なルール：<strong>Propsは読み取り専用</strong>です。コンポーネント内でPropsを変更してはいけません。</p><div class=\"code-block\"><div class=\"code-header\"><span class=\"code-lang\">JSX</span><button class=\"code-copy\" onclick=\"copyCode(this)\">コピー</button></div><div class=\"code-content\"><pre><code>// ❌ 間違い：Propsを変更しようとしている\nfunction BadComponent({ count }) {\n  count = count + 1;  // エラー！Propsは変更できない\n  return &lt;p&gt;{count}&lt;/p&gt;;\n}\n\n// ✅ 正しい：Propsは読み取りのみ\nfunction GoodComponent({ count }) {\n  const displayCount = count + 1;  // 新しい変数を作る\n  return &lt;p&gt;{displayCount}&lt;/p&gt;;\n}</code></pre></div></div><p class=\"content-text\">Reactでは、データは<strong>親から子への一方向</strong>に流れます。これを「単方向データフロー」と呼びます。</p><div class=\"info-box\"><span class=\"info-box-icon\">⚠️</span><div class=\"info-box-content\"><div class=\"info-box-title\">なぜPropsは変更できない？</div><div class=\"info-box-text\">Propsを変更不可にすることで、データの流れが予測可能になり、バグの原因を特定しやすくなります。状態を変更したい場合は、次のレッスンで学ぶuseStateを使います。</div></div></div></div><div class=\"content-section\"><h2 class=\"section-title\">まとめ</h2><p class=\"content-text\">この章で学んだこと：</p><ul><li><strong>関数コンポーネント</strong> - JSXを返す関数、名前は大文字で始める</li><li><strong>Props</strong> - 親から子へデータを渡す仕組み、分割代入で簡潔に</li><li><strong>デフォルトProps</strong> - 省略可能なPropsにデフォルト値を設定</li><li><strong>children</strong> - タグ間の内容を受け取る特別なProps</li><li><strong>コンポーネント合成</strong> - 小さなコンポーネントを組み合わせる</li><li><strong>TypeScript</strong> - 型定義でPropsの安全性を高める</li><li><strong>Propsは読み取り専用</strong> - 変更せず、一方向データフローを守る</li></ul><p class=\"content-text\">次のレッスンでは、コンポーネント内で変更可能な<strong>状態（State）</strong>を管理する<strong>useState</strong>について学びます。</p></div>",
  "exercises": [
    {
      "question": "Reactの関数コンポーネントの命名規則として正しいものはどれですか？",
      "options": [
        "小文字で始める（例: myComponent）",
        "大文字で始める（例: MyComponent）",
        "アンダースコアで始める（例: _MyComponent）",
        "数字で始める（例: 1Component）"
      ],
      "answer": 1,
      "explanation": "Reactのコンポーネント名は必ず大文字で始める必要があります。小文字で始まる名前はHTMLタグとして解釈されるため、コンポーネントとして認識されません。"
    },
    {
      "question": "Propsについて正しい説明はどれですか？",
      "options": [
        "Propsはコンポーネント内で自由に変更できる",
        "Propsは子コンポーネントから親コンポーネントにデータを渡す",
        "Propsは読み取り専用で、親から子へデータを渡す",
        "Propsは関数コンポーネントでは使用できない"
      ],
      "answer": 2,
      "explanation": "Propsは読み取り専用（immutable）で、親コンポーネントから子コンポーネントへデータを渡すための仕組みです。コンポーネント内でPropsを変更することはできません。"
    },
    {
      "question": "childrenプロパティの説明として正しいものはどれですか？",
      "options": [
        "コンポーネントの子要素の数を表す数値",
        "コンポーネントの開始タグと終了タグの間に書かれた内容を受け取る特別なProps",
        "子コンポーネントの配列を自動的に生成する機能",
        "親コンポーネントへの参照を保持するProps"
      ],
      "answer": 1,
      "explanation": "childrenは特別なPropsで、コンポーネントの開始タグと終了タグの間に書かれた内容（テキスト、要素、他のコンポーネントなど）を受け取ります。レイアウトコンポーネントなどで活用されます。"
    },
    {
      "question": "以下のコードで、Buttonコンポーネントに渡されるtextの値は何ですか？\n\n<Button text=\"送信\" />\n<Button />",
      "options": [
        "両方とも「送信」",
        "「送信」と undefined",
        "「送信」と「クリック」（デフォルト値が設定されている場合）",
        "両方とも undefined"
      ],
      "answer": 2,
      "explanation": "1つ目のButtonにはtext=\"送信\"が渡されるので「送信」になります。2つ目のButtonにはtextが渡されていないため、コンポーネントでデフォルト値が設定されていれば（例: text = 'クリック'）その値が使われます。"
    }
  ]
}